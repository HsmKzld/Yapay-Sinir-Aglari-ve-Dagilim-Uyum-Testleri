from scipy.stats import norm, expon, lognorm, weibull_min, uniform, beta
from keras.models import load_model
import pandas as pd
import numpy as np
veriler = [81, 79, 75, 65, 76, 77, 85, 74, 73, 86, 65, 75, 66, 74, 83, 79, 74, 73, 81, 80, 85, 94, 78, 76, 89, 68, 80, 80, 78, 76, 71, 67, 63, 80, 70, 75, 76, 61, 86, 58, 74, 62, 94, 71, 58, 61, 70, 71, 74, 93]

#veriler = [19.2266090460926, 19.220431265702693, 24.41857403060054, 22.06035792481766, 20.68560996839996, 16.08808575808374, 18.970267327008962, 21.26418426730958, 18.125763066483245, 19.023809732442185, 19.432189970814154, 18.524944491522046, 21.378356640670706, 19.63503163210577, 20.62597053982138, 19.54409514706855, 23.726908314352148, 21.485135485137526, 17.957192456535708, 22.133857969353674, 22.23600590419704, 20.42757469004149, 22.080405236423942, 21.074816873979824, 21.189639590938924, 19.399116156085153, 18.64177971239872, 23.052736861851866, 21.36416615304209, 16.218598926928088, 19.966036650198372, 20.20723729726368, 21.240134813659633, 17.54101769398764, 14.629953968187642, 18.906751759133638, 19.807106764813177, 19.719890449665577, 23.176054062460082, 18.47779153308138, 22.661490629259717, 21.473440198436805, 23.535856110861694, 24.401973154571188, 19.71580639007108, 22.581013656498516, 19.322665516664355, 21.91782883900449, 19.275544325440574, 17.894914055556647, 22.130508413303826, 16.682255797830813, 15.26282444460935, 22.564240303597078, 16.210601133535235, 22.77575655457356, 23.385787906083316, 16.417952190552434, 17.717749188760724, 20.516446364554678, 19.492193788665954, 25.114204178004087, 19.005675308967803, 19.872590440125617, 19.99275939403755, 19.927901603999523, 19.93236803219075, 19.817085703965482, 19.026950223317936, 18.923594293406044, 20.95708559577837, 20.732621750494843, 19.978301930934055, 21.839578429564042, 19.8276725859363, 20.890706454393868, 21.272851027296205, 20.186340983290062, 19.689892232695176, 20.869111912951112, 19.135977316238083, 18.03233561886115, 17.45272572093693, 22.5320427625512, 20.137071338430086, 19.29020084658852, 19.686903009404983, 18.312571322593392, 24.603975525555438, 18.301340968621, 19.2781235856545, 18.708959162934942, 20.774125752141085, 17.967921180572645, 23.800176457010267, 19.647835935766537, 19.79629343825999, 18.26526349048732, 21.93487516071345, 20.111715005850222, 20.93687748326708, 20.582763037222417, 19.816811641561078, 18.922097256507108, 21.13408868954947, 17.095400880878657, 18.03673719468778, 26.80117058574235, 18.363847193109397, 17.6043836262733, 21.179044070619067, 23.515455796258145, 18.126641559564295, 22.47723187013377, 20.882220867392853, 20.84463763769751, 22.255960829944826, 18.530240518083804, 21.739828909900254, 20.41444449799611, 16.123559695238654, 21.019436019182546, 21.690879874327273, 20.180009069300052, 20.16777264879359, 22.49572805881745, 20.145796419291866, 19.255403332795176, 19.834540045152508, 16.505515566182194, 19.14783112139254, 18.156411451116035, 20.35192804379553, 18.03516027851853, 18.22257695104137, 19.78373915360896, 18.580482232939637, 18.936436979056182, 17.849447573637498, 20.270153229276097, 18.437948697985497, 20.658462090053092, 20.173793764688668, 22.967529037396904, 16.665954010100677, 20.71272336143688, 20.033328604475283, 18.534606274539517, 23.635163054414164, 20.636466425038194, 18.73339207984803, 19.691287931951152, 18.95532841167944, 18.735473857343496, 22.61813463101525, 18.70144016676751, 19.80574664167415, 21.732947421626214, 24.50652112342319, 19.72172370124864, 21.786334980859174, 21.32842168351251, 20.103582296325808, 20.011697931318793, 19.051288736947576, 25.202835170172932, 16.386221787705338, 17.804859380335124, 22.45000978087668, 16.553734071437837, 16.81127422009735, 19.15480372875436, 20.490103675402718, 20.65643262033248, 20.959193598383667, 19.024758940524414, 20.599891858790304, 18.309468374622586, 18.21650035543496, 19.68859280702841, 21.348846666156103, 18.291237933539918, 16.389118913357976, 23.239650194852146, 14.563787807159148, 18.409089121719227, 23.647252651754854, 22.776723449673273, 22.15666546461631, 19.898354750367265, 18.37669084074457, 19.083004171309774, 22.166844903954814, 23.130165021272674, 22.340549787340926, 19.616259436322228, 17.597009729352557, 21.359073141605784, 22.163655968453092, 22.444277101501957, 19.920323871265403, 16.629279117267473, 17.62375835885923, 22.127025222804672, 24.229874105206203, 16.141095455999906, 16.599878997000033, 17.303554515800727, 14.91074082821429, 20.16594752292242, 19.604552360204632, 18.694585367009573, 21.95727815468194, 17.908098637355167, 20.75356659935903, 18.408793825381778, 21.019924924640694, 20.40797263868599, 21.034659863181567, 21.4675354232726, 22.45916550923856, 18.284951607576787, 19.71413167484352, 19.686367917316183, 17.935705442200625, 19.322121054827573, 18.36129073322826, 20.826459641073022, 17.95188785466529, 20.93018695545862, 19.54854822842064, 22.272283407690985, 19.645826517364704, 17.611810684472882, 14.242315875596477, 15.749894383377974, 17.699304977580123, 18.583090679370766, 18.934551228309395, 18.770827466473854, 19.057067182355944, 20.024722566617452, 16.15412441734611, 19.502751388300705, 21.38126856479863, 20.419965754967752, 17.887588294331326, 17.40110003969287, 21.418977535571354, 17.619580558158553, 19.137390478209703, 19.655271199813804, 16.167754675851537, 19.778037624331553, 18.575685954366353, 15.833257790479234, 20.629767657083896, 19.51200354535874, 21.823347484431277, 20.85494329162474, 19.267031421610216, 20.266925695925153, 22.319846668758696, 22.501547066807, 21.940877521326662, 20.052297713152488, 19.00886777158168, 21.812186394591414, 20.737952288963754, 18.322000824895735, 17.55147517214035, 16.99984741086921, 18.333440181373334, 18.22410756481948, 19.239918459265816, 17.598279324094108, 20.649273840167023, 19.191320930842732, 17.16476693434952, 22.347459571499662, 21.368310585976456, 16.59750620672211, 20.30088490414627, 21.485699526325362, 20.954443197030642, 19.474446704772458, 21.614305751440973, 21.12798255776329, 19.734326538188277, 20.302182835642213, 19.329595602241184, 20.4143007674145, 17.546436430811255, 18.484497819742, 18.26815343376599, 19.039065094148093, 23.50026853665898, 19.507981516433706, 18.43653068562879, 21.201119526602866, 20.00604329378404, 17.233340875054957, 18.57245835547706, 19.989711499198034, 21.4582915497596, 21.12584690024885, 17.968849646746982, 20.26667710826533, 19.09984477280382, 23.037077395260443, 18.22340074971877, 22.92169189692881, 20.327165203842096, 20.34823639204813, 16.00999432385672, 17.917020241261074, 20.05229011501111, 19.4781953327479, 19.113239528769963, 16.66562753003885, 22.276474014736046, 19.756128417945746, 20.59162766978958, 19.340571814686992, 16.140936963827734, 19.067444067778954, 15.804166177003363, 22.981162543881567, 19.892295429865722, 16.944928188119626, 19.242700144847543, 19.113800067433424, 20.747184164374158, 17.416952452547218, 21.10614166625505, 19.44850056930481, 19.374313684748618, 20.466120634750293, 20.127301804225198, 16.887387703341545, 23.495994027519004, 19.27159626251074, 21.78676054499881, 23.389177423009432, 20.529941984209394, 21.390873549297197, 21.52336594982535, 18.65256721894462, 19.555293118909542, 20.0961906045462, 21.070285031826543, 16.96549558551274, 21.524521104919632, 20.36561701859785, 23.350692235938418, 20.165335970572585, 21.058700279081535, 23.19275132578998, 19.857828795483048, 19.30139240984629, 18.175522793244795, 19.05253391714444, 22.291646971196506, 22.266843151663124, 20.084173790155493, 20.475004069644847, 18.826503542066423, 19.780190491236514, 19.942061842931388, 21.996954840144955, 23.42320140192574, 19.632792622974634, 19.060297239235133, 20.00363028742276, 18.979314334732553, 16.011224513598034, 20.394226158792094, 21.577178914417942, 20.23820991001382, 19.049196931120843, 20.982604838956846, 22.22064640540468, 20.73272028732894, 16.731140230422213, 20.533523756152704, 21.61120097395794, 21.16483734565339, 20.64712310607362, 21.64603541331562, 20.181222854635475, 20.401070719360717, 17.39829685888882, 24.133687815305663, 18.572584891892603, 18.72046381077238, 15.49223733062031, 18.76415359286772, 19.16356351843169, 20.79890378060736, 22.276989669021617, 19.224503990825816, 19.19309700620049, 20.346287669888945, 21.33257352137835, 22.208390957046767, 21.90703493471097, 23.201407016129366, 20.947796840549607, 21.16059690011343, 22.328634537775656, 21.136676547726164, 20.8703812785739, 23.23558120929519, 21.668342232759873, 19.37148904801124, 21.155123568925333, 22.02953730458381, 18.67514361895258, 18.671969974824165, 18.55970193140991, 20.88334493901868, 13.949445955776765, 19.422462591884255, 21.276314877065605, 20.817101394164098, 21.673849806497568, 20.681319317609496, 19.814455282764865, 23.109526929809114, 19.916131572487128, 20.480611700018784, 20.313491914853373, 21.946375230628124, 16.904472918440188, 22.52594548476728, 23.171750321711123, 18.075957265757392, 21.254802680095086, 19.90485217904555, 19.54704824307075, 17.970252012271175, 16.393454572813027, 18.32089838625432, 19.709531259148598, 21.226371426525343, 21.439246390668178, 21.59966557951932, 19.5678697914581, 21.982237855671777, 18.771105755810098, 17.901838756909267, 20.00457781587454, 24.79588506371363, 16.00128051338958, 22.270634384851434, 19.447295814106464, 21.886894001720655, 21.9640000280402, 15.670394304094165, 17.494269874362608, 18.32494638155089, 18.211899115205533, 22.42034841880612, 22.045451924743386, 20.86806090367169, 18.87743618401679, 21.223504533884928, 20.109942347243006, 19.8854818175675, 21.324026395461125, 16.306686765013882, 21.26334080578629, 20.347328568410752, 22.774156703953384, 20.603251112956848, 22.50398004992659, 18.52224557146069, 22.398469016776282, 18.266890059685245, 22.56684008684047, 19.318153898108243, 16.94776393217411, 17.440648951543103, 18.540154287805603, 19.92360849865887, 20.61470555072431, 20.830099954448688, 22.509007756731645, 20.230177186797945, 18.574088851616057, 21.21249698315214, 15.482007476188397, 18.337590470411318, 22.120105188504176, 19.818889318232852, 17.151671504464062, 17.961027840117826, 20.076042225372554, 18.789940295299555, 20.94405405358263, 21.079279057841106, 20.593538724132802, 16.550417793065215, 21.374485782676896, 21.332927112826336, 20.488216599232985, 20.489184374958683, 17.698361851495118, 19.56777364580444, 20.411421662465596, 19.10964716548074, 19.744698499650667, 19.756485937616745, 17.629960797296075, 23.397246471783188, 18.888182894616303, 24.669765036564808, 19.779047578913968, 16.56076676410033, 18.557282348253946, 21.205225430349145, 22.13337194098097, 21.584705514629725, 17.01538228115653, 20.21548290727441, 17.352133293444258, 17.71935083142785, 19.584121955975064, 20.016712989505287, 19.22751413789969, 19.170689579701854, 18.562410501749447, 18.38309526398709, 21.860345355088874, 19.730414725408217, 20.78634922872269, 22.280259379523386, 22.709239053647327, 21.018606854021346, 20.95473297147116, 17.75028021631268, 20.090248763962705, 20.259456707762673, 20.478149913115697, 15.78645641884367, 20.60380645026839, 20.409831167168218, 19.410475889855725, 20.118594221368117, 16.79081147623274, 16.434722169382287, 22.304295643386865, 21.404826548365136, 22.65512864811984, 20.672257228865348, 19.736775470972262, 18.620109136902027, 20.003043008480148, 21.246804887472326, 18.91211124955682, 17.428146229888057, 19.863080628307422, 22.340190590572174, 21.063496148307927, 20.118953402536278, 18.188119920995952, 20.6276271088342, 21.92507203408034, 18.163506255281753, 18.682190095114812, 23.631160134154268, 16.017514491242878, 19.370454740264126, 18.897179489325726, 20.598125161546346, 18.554730124466964, 23.411362758793224, 20.737817491085764, 19.425856426512432, 18.63616846748727, 18.404998404877016, 23.637880707124786, 19.819921405275846, 21.016049963121585, 21.25455251052003, 20.604014345818687, 21.060374106313024, 21.227438697527077, 20.31631841076176, 19.774643310583155, 22.450830127859806, 14.402369884300516, 17.387655551830544, 25.464057409860555, 18.706389444374015, 21.906220454334008, 19.15413714904479, 17.830090419407263, 20.559139754088022, 23.53284689673616, 19.470335048176537, 18.35041203569797, 20.36189439006173, 18.694880289329024, 21.891377449596213, 18.44844182790908, 22.79840752410243, 20.245700212262367, 19.56688687734414, 19.61065351378688, 23.847566721673516, 20.103008674026356, 20.712669023494765, 22.106503086581807, 23.00440740445072, 19.752307564845008, 23.517493225670087, 18.225233796439184, 22.3576596536271, 20.29107171911322, 21.01100633767004, 17.531319933132266, 21.30723461982442, 19.339453803667254, 15.991961806632046, 20.22857491738678, 22.332108678262202, 19.6788221622885, 20.4751890997353, 19.76925069588313, 18.914614802565808, 20.71398794477539, 16.265084761282225, 18.565635841180878, 19.129779115955802, 20.226300518145933, 20.770203844295352, 22.61390943518881, 20.402162536821336, 19.912896743939214, 21.642707842752223, 19.47954942244481, 21.59950705337292, 18.181183246362885, 19.02774106558186, 17.755539931315383, 21.680482055791792, 20.833994885550865, 20.865893732651212, 19.569126207884857, 19.02201625264873, 19.48192519015117, 22.41008439200622, 21.65836852761826, 15.208519000912133, 18.883353309546248, 19.81071420692381, 19.262910380361355, 18.463240542307332, 17.53224587040958, 23.83908849217344, 19.80527602116811, 16.061295068890896, 20.89691583465987, 17.55139555663271, 22.023623046732776, 21.833976592544065, 21.632145938640967, 18.276944453972828, 20.118737882104025, 17.886886254756728, 19.713491164810673, 22.121416591153935, 20.027415434453417, 20.572068783539553, 17.76035696177044, 20.410253895156632, 18.86170057901709, 22.960943396093484, 18.793668283471852, 14.580335109546837, 18.788453295529802, 23.422382709514483, 19.8671245134158, 18.863570732594244, 19.796955980395484, 17.09887602963274, 19.680385629784656, 22.063315050204658, 18.72479199254477, 22.83751692076007, 19.347460566455833, 19.032976320027842, 21.00211591366396, 19.561502985012353, 21.294729021648873, 18.83439006021686, 16.980946494748622, 19.442853680686277, 19.630268824428438, 19.93158904926033, 19.35642350715921, 21.66615755123072, 19.966320931805225, 18.278937568202572, 19.724982128199134, 19.66484999531865, 18.952051913814778, 22.29840623481624, 18.909929318163552, 15.650907926307228, 21.182711540916184, 19.895034925429925, 19.77856116765421, 18.322347527383215, 17.608199851112698, 17.871890491210284, 18.74382190070708, 19.422281171074143, 19.715556192846833, 20.942791363698948, 20.9642863718668, 21.530820672836843, 18.779769556597802, 23.16605073075956, 25.3943075262595, 18.276495800589434, 18.82683462959152, 20.391035808894486, 20.507683878725032, 22.928487947656322, 20.419166933701373, 22.725212745328022, 20.225882013330857, 23.06984041730185, 17.642357986161684, 15.75714279653052, 22.86664476026653, 19.094695903472445, 23.838399001198177, 19.487988984734223, 24.129463669060243, 16.281456313045915, 22.748386124367627, 21.329190625345248, 20.849717234059284, 17.374763017476084, 20.930618332835365, 19.007661018242352, 18.793352691250632, 18.923300574138615, 17.810873966160003, 18.666013312598064, 23.45958287793957, 20.702334993471716, 17.225745309016713, 21.86947307911762, 20.461106150123925, 18.33799685960516, 18.86820478115281, 20.135674127102906, 21.852392172746082, 23.20351777362531, 19.412102222475454, 20.7515139816718, 20.405517558134797, 20.008005971151892, 24.212255117993312, 21.68686392789136, 22.00963031725895, 17.542472986786294, 20.52585664792627, 20.770109548428874, 22.618778640604614, 24.38954377416061, 14.571948016847902, 15.981985517600409, 20.12258388965152, 20.690451965955145, 16.201850101373516, 20.215989059842297, 22.93897821796134, 19.206668663806326, 19.701585133583258, 16.072460177085826, 22.516774384014827, 17.67451155038911, 20.50630980336346, 20.947850471950087, 17.232097714490166, 23.9380774715318, 18.240083046180363, 18.827115962154835, 25.24495438462228, 17.556340983876233, 19.10851505256111, 21.64416580744194, 18.254750514789308, 20.371154990077898, 17.277335280898757, 19.644720943063618, 18.779774625335108, 20.390227242816827, 21.57217894863425, 17.11349775064459, 21.819181985364327, 18.79955199409607, 16.938614559227002, 19.757495685538238, 18.056830775561327, 20.883150956231642, 22.92310132965744, 16.666836569197073, 19.561838480825134, 17.35753545394893, 19.636865566989723, 20.347472370567104, 22.838655657185253, 21.509639380556795, 20.505369702942644, 20.322432290789614, 19.733647619808984, 21.16292469068546, 20.093003132442394, 17.5945698908707, 20.57158309064428, 15.36590361429204, 18.583881893481436, 19.163777470235633, 20.67628948111564, 16.392349549815922, 21.2147919838496, 21.048624734818507, 22.366255658116188, 23.1543342082987, 17.968246830111266, 19.409678566934623, 20.510358241514382, 19.292911465400724, 21.162707410041357, 14.500541934263094, 17.78534248767202, 20.988237998502566, 18.20064097413082, 21.05546073122975, 18.224455011570413, 20.093595932153615, 15.777120242458773, 20.577775426388026, 15.90730639254374, 18.785860459955114, 22.998733528503784, 17.301890428198575, 19.012933844173862, 20.517679284892463, 17.831871536344174, 22.410561704101703, 21.05730675706711, 22.93670624175552, 17.957246137168955, 20.6357407343256, 15.235186004137518, 16.89515012362265, 23.00729375464715, 21.83029197049416, 17.437878500386475, 20.441269923100926, 17.91663313586803, 17.171998000435487, 18.582045940677734, 20.21503973160691, 17.859726224820474, 21.187950701794765, 17.307287176947444, 18.23361104006737, 20.148771136630124, 20.52865727617593, 18.981324555645127, 17.36456654952251, 19.842173052136445, 20.02860141730957, 18.905931157018216, 17.390417808807342, 17.445698855530203, 18.47773610407941, 15.618887755151668, 18.469565458116207, 20.95851989730988, 19.799241660741966, 20.003397936904452, 20.865752697404375, 18.638691028012037, 18.340765563296443, 19.956938155415106, 20.662669880203513, 21.415015664832026, 21.221655578170363, 21.513266544022656, 23.525527594565943, 19.800064411166275, 22.085969368146458, 19.06655598906238, 20.519433447656102, 21.26690523187971, 17.260617838791333, 20.476345500780802, 19.342971041841746, 21.36746488958099, 21.436695764438976, 20.435145136740086, 23.05944962351432, 20.745245376815046, 16.38993554743682, 18.731505401123297, 18.203991842169128, 21.40294930642624, 19.919505345235663, 21.898920640048107, 20.303722737499182, 17.511307412734148, 20.025975547614962, 18.29368722626569, 19.872749596467344, 17.406027911057528, 19.10758883493107, 19.93583069978358, 18.840195598710437, 20.617543155022126, 23.176650808252962, 18.482620665263145, 20.917089361478304, 19.249741260186298, 23.06049079163449, 21.39383596847977, 22.49507069978705, 18.970007475221482, 17.86998498659743, 19.04069771448753, 18.785110904959335, 23.429880188802496, 17.311920779105407, 17.469004203058343, 20.166962101953768, 21.087064235317058, 18.378698778523795, 21.101630098431112, 23.401092779977084, 15.502506367862068, 19.48808676959951, 14.98459015421697, 21.326227886166013, 17.236093617140966, 24.165205546321268, 16.496563923891003, 20.678684325736644, 18.910359452780295, 20.475170515870516, 22.15118692671257, 21.733935123389823, 19.42036717260873, 20.323319240142023, 24.406383611205428, 20.880955089865925, 19.49642306078958, 22.567149906531622, 17.2925384922311, 19.589594308023756, 20.38942386313508, 19.223208622601664, 20.304912107554756, 19.33313025324839, 17.306226439802735, 17.80332259964637, 17.03817278566858, 21.458675189601777, 19.771166824373342, 23.877675726500243, 20.832277206403596, 16.667759557326836, 19.675691674189864, 17.06361209539762, 19.793079831285443, 19.971535209202823, 19.95596978746267, 21.04098857938517, 21.404873766141257, 18.8058014159353, 19.576245855539653, 16.576050075507133, 18.512955436213232, 19.643674408628975, 22.694781510537954, 23.064618503776234, 18.559141659822682, 24.097987381583764, 20.205228096113725, 18.690674204462912, 21.60005495389251, 18.591060436034553, 21.05334471431285]
#veriler = np.array(data)
# Verileri sıralama
veriler.sort()

# En küçük ve en büyük değerleri bulma
en_kucuk = veriler[0]
en_buyuk = veriler[-1]

# Aralıkları hesaplama
aralik_genisligi = (en_buyuk - en_kucuk) / 10
aralik_sinirlari = [en_kucuk + i * aralik_genisligi for i in range(11)]

# Frekansları hesaplama
frekanslar, _ = np.histogram(veriler, bins=aralik_sinirlari)

# Frekans tablosu oluşturma
frekans_tablosu = pd.DataFrame({
    'Aralık Sınırları': [f'{aralik_sinirlari[i]:.1f} - {aralik_sinirlari[i+1]:.1f}' for i in range(10)],
    'Frekans': frekanslar
})
print(frekans_tablosu)
print(list(frekans_tablosu['Frekans']))

# En büyük değeri bulma
en_buyuk = max((frekans_tablosu['Frekans']))

# Her bir değeri en büyük değere bölme yeni bir liste oluşturma
bolum_listesi = [x/en_buyuk for x in (frekans_tablosu['Frekans'])]

print("En büyük değer:", en_buyuk)
print("Normalize edilmiş liste:", bolum_listesi)
# Yüklenen modelin kullanılması
model = load_model('egitilmis_model.h5')

# Yeni veri girişi
#yeni_veri = np.array([0.8181818181818182, 0.7272727272727273, 1.0, 0.18181818181818182, 0.2727272727272727, 0.09090909090909091, 0.0, 0.0, 0.0, 0.09090909090909091])
yeni_veri = np.array([bolum_listesi])
# Yeni veri için tahmin yapılması
tahmin = model.predict(yeni_veri.reshape(1, -1))

# Tahmin sonuçları
etiketler = {0: 'Uniform', 1: 'Beta', 2: 'Lognormal', 3: 'Weibull', 4: 'Normal', 5: 'Üstel'}
en_buyuk_indeks = np.argmax(tahmin)
tahmin_edilen_dagilim = etiketler[en_buyuk_indeks]
print("Tahmin: ", tahmin)
print("Tahmin edilen dağılım türü: ", tahmin_edilen_dagilim)

print("Keras sonucunda ise tahmin edilen dağılım",tahmin_edilen_dagilim,"Dağılım çıkmıştır.")
